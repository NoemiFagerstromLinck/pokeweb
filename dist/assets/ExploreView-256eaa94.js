import{p as T}from"./pokemon-6d0abd11.js";import{_ as B,a as c,w as e,r as n,o as i,b as o,e as d,d as m,f as H,g as D,F as N,h as g,t as v}from"./index-36d70dcf.js";import{_ as L}from"./pokeball-pixel-7dec224a.js";const M={name:"ExploreView",data(){return{allPokemon:[],displayedPokemon:[],page:0,pageSize:20,loading:!1,totalPokemon:0}},mounted(){this.allPokemon=T[0].pokemones.map(l=>({id:parseInt(l.id,10),name:l.nombre})).sort((l,t)=>l.id-t.id),this.totalPokemon=this.allPokemon.length,this.loadMore(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{loadMore(){this.loading||this.displayedPokemon.length>=this.totalPokemon||(this.loading=!0,setTimeout(()=>{const l=this.page*this.pageSize,t=l+this.pageSize,r=this.allPokemon.slice(l,t);this.displayedPokemon.push(...r),this.page++,this.loading=!1},500))},handleScroll(){const l=window.scrollY||document.documentElement.scrollTop,t=window.innerHeight,r=document.documentElement.scrollHeight;l+t>=r-200&&this.loadMore()},goToDetail(l){this.$router.push(`/?pokemon=${l}`)}}},j={class:"text-caption text-capitalize"};function F(l,t,r,I,a,f){const h=n("v-toolbar-title"),k=n("v-spacer"),x=n("v-icon"),w=n("v-btn"),P=n("v-app-bar"),b=n("v-img"),u=n("v-chip"),y=n("v-card-title"),E=n("v-card"),_=n("v-col"),p=n("v-row"),V=n("v-progress-circular"),z=n("v-container"),S=n("v-main"),C=n("v-app");return i(),c(C,{class:"pixel-font"},{default:e(()=>[o(P,{class:"gba-app-bar",flat:""},{default:e(()=>[o(h,{class:"d-flex align-center gba-title"},{default:e(()=>[...t[0]||(t[0]=[d("img",{src:L,alt:"Pokeball pixel",style:{height:"2.2em","margin-right":"0.5em","vertical-align":"middle"}},null,-1),d("span",{class:"gba-title-text gba-title-pixel"},"Explorar PokÃ©mon",-1)])]),_:1}),o(k),o(w,{to:"/",variant:"outlined",color:"yellow",class:"pixel-font"},{default:e(()=>[o(x,{left:""},{default:e(()=>[...t[1]||(t[1]=[m("mdi-arrow-left",-1)])]),_:1}),t[2]||(t[2]=m(" Volver ",-1))]),_:1})]),_:1}),o(S,null,{default:e(()=>[o(z,{fluid:""},{default:e(()=>[o(p,null,{default:e(()=>[(i(!0),H(N,null,D(a.displayedPokemon,s=>(i(),c(_,{key:s.id,cols:"6",sm:"4",md:"3",lg:"2"},{default:e(()=>[o(E,{rounded:"xl",elevation:"3",class:"explore-card",onClick:$=>f.goToDetail(s.name)},{default:e(()=>[o(b,{src:`/images/pokemon-${s.id}.png`,alt:s.name,height:"120",cover:"",class:"card-image"},null,8,["src","alt"]),o(y,{class:"text-center pa-2"},{default:e(()=>[d("div",j,v(s.name),1),o(u,{size:"x-small",color:"red",class:"mt-1"},{default:e(()=>[m("#"+v(s.id),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),a.loading?(i(),c(p,{key:0,justify:"center",class:"mt-4"},{default:e(()=>[o(_,{cols:"12",class:"text-center"},{default:e(()=>[o(V,{indeterminate:"",color:"teal",size:"48"}),t[3]||(t[3]=d("p",{class:"mt-2 text-caption"},"Cargando mÃ¡s PokÃ©mon...",-1))]),_:1})]),_:1})):g("",!0),!a.loading&&a.displayedPokemon.length>=a.totalPokemon?(i(),c(p,{key:1,justify:"center",class:"mt-4"},{default:e(()=>[o(_,{cols:"12",class:"text-center"},{default:e(()=>[o(u,{color:"success",size:"large"},{default:e(()=>[...t[4]||(t[4]=[m("ðŸŽ‰ Has visto todos los PokÃ©mon disponibles",-1)])]),_:1})]),_:1})]),_:1})):g("",!0)]),_:1})]),_:1})]),_:1})}const A=B(M,[["render",F],["__scopeId","data-v-7df8732e"]]);export{A as default};
