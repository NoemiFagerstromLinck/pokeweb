import{_ as J,l as F,c as Q,p as W,f as g,d as c,b as e,w as a,F as k,r,o as s,t as f,i as O,e as i,g as C,h as V,a as b,j as U}from"./index-7b7b6888.js";import{u as X}from"./pokemon-d75049fc.js";import{_ as L}from"./pokeball-pixel-8f5cf328.js";const Y={name:"TeamBuilder",setup(){const v=X(),o=F(""),I=Q(()=>v.teamCoverage),t=F(null);async function N(){const n=o.value.trim().toLowerCase();if(!n)return;const _=isNaN(Number(n))?n:Number(n);if(!(v.teamCount>=6))try{const{data:x}=await fetch(`https://pokeapi.co/api/v2/pokemon/${encodeURIComponent(_)}`);if(!x)return;const d=await x.json();v.addToTeam(d.id),o.value=""}catch{}}function A(n){v.removeFromTeam(n)}function D(){[...v.team].forEach(n=>v.removeFromTeam(n))}function y(n){t.value=n}function p(n){if(t.value===null||t.value===n)return;const _=[...v.teamData],[x]=_.splice(t.value,1);_.splice(n,0,x),v.team=_.map(d=>d.id),v.loadTeam(),t.value=null}return W(()=>{v.loadTeam()}),{store:v,addInput:o,handleAdd:N,remove:A,clearTeam:D,coverage:I,onDragStart:y,onDrop:p}}},Z={class:"d-flex flex-wrap"},h={key:0,class:"text-disabled"},$=["src","alt"],ee={class:"text-subtitle-2",style:{"text-transform":"capitalize"}},te={class:"d-flex flex-wrap"},ae={key:0,class:"text-disabled"},oe=["src","alt"],le={class:"text-subtitle-2",style:{"text-transform":"capitalize"}};function ne(v,o,I,t,N,A){const D=r("v-icon"),y=r("v-spacer"),p=r("v-btn"),n=r("v-card-title"),_=r("v-divider"),x=r("v-text-field"),d=r("v-col"),z=r("v-chip"),w=r("v-row"),E=r("v-avatar"),T=r("v-card"),B=r("v-alert"),S=r("v-card-text"),j=r("v-container"),M=r("v-toolbar-title"),H=r("v-app-bar"),R=r("v-main"),G=r("v-app");return s(),g(k,null,[o[15]||(o[15]=c(" <<<<<<< HEAD ",-1)),e(j,null,{default:a(()=>[e(T,{class:"mb-4",variant:"outlined",rounded:"xl"},{default:a(()=>[e(n,{class:"text-subtitle-1 d-flex align-center"},{default:a(()=>[e(D,{color:"indigo",start:""},{default:a(()=>[...o[4]||(o[4]=[c("mdi-account-group",-1)])]),_:1}),c(" Equipo ("+f(t.store.teamCount)+"/6) ",1),e(y),e(p,{size:"x-small",disabled:t.store.teamCount===0,onClick:t.clearTeam,variant:"text"},{default:a(()=>[...o[5]||(o[5]=[c("Vaciar",-1)])]),_:1},8,["disabled","onClick"])]),_:1}),e(_),e(S,null,{default:a(()=>[e(w,{class:"align-center"},{default:a(()=>[e(d,{cols:"12",md:"4"},{default:a(()=>[e(x,{modelValue:t.addInput,"onUpdate:modelValue":o[0]||(o[0]=l=>t.addInput=l),label:"Nombre o ID",density:"compact",variant:"outlined",onKeyup:O(t.handleAdd,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{cols:"12",md:"2"},{default:a(()=>[e(p,{color:"primary",disabled:!t.addInput||t.store.teamCount>=6,onClick:t.handleAdd},{default:a(()=>[...o[6]||(o[6]=[c("Agregar",-1)])]),_:1},8,["disabled","onClick"])]),_:1}),e(d,{cols:"12",md:"6"},{default:a(()=>[o[7]||(o[7]=i("div",{class:"text-caption"},"Cobertura de Tipos:",-1)),i("div",Z,[(s(!0),g(k,null,C(t.coverage,(l,u)=>(s(),b(z,{key:u,color:t.store.typeColors[u],class:"ma-1",size:"x-small",variant:"elevated",style:{"text-transform":"capitalize"}},{default:a(()=>[c(f(u)+" ("+f(l)+")",1)]),_:2},1032,["color"]))),128)),Object.keys(t.coverage).length===0?(s(),g("span",h,"Sin tipos todavía")):V("",!0)])]),_:1})]),_:1}),e(_,{class:"my-4"}),e(w,null,{default:a(()=>[(s(!0),g(k,null,C(t.store.teamData,(l,u)=>(s(),b(d,{key:l.id,cols:"12",sm:"6",md:"4",draggable:"true",onDragstart:m=>t.onDragStart(u),onDragover:o[1]||(o[1]=U(()=>{},["prevent"])),onDrop:m=>t.onDrop(u)},{default:a(()=>[e(T,{rounded:"xl",variant:"outlined",class:"team-member-card"},{default:a(()=>[e(n,{class:"d-flex align-center"},{default:a(()=>[e(E,{size:"56",class:"me-2"},{default:a(()=>{var m,q,K,P;return[i("img",{src:((K=(q=(m=l.sprites)==null?void 0:m.other)==null?void 0:q["official-artwork"])==null?void 0:K.front_default)||((P=l.sprites)==null?void 0:P.front_default),alt:l.name},null,8,$)]}),_:2},1024),i("div",null,[i("div",ee,"#"+f(l.id)+" "+f(l.name),1),i("div",null,[(s(!0),g(k,null,C(l.types,m=>(s(),b(z,{key:m,size:"x-small",class:"me-1",color:t.store.typeColors[m],style:{"text-transform":"capitalize"}},null,8,["color"]))),128))])]),e(y),e(p,{icon:"mdi-close",size:"x-small",variant:"text",onClick:m=>t.remove(l.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDragstart","onDrop"]))),128)),t.store.teamCount===0?(s(),b(d,{key:0,cols:"12"},{default:a(()=>[e(B,{type:"info",variant:"tonal",title:"Equipo vacío",text:"Agrega Pokémon para ver la cobertura de tipos."})]),_:1})):V("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),o[16]||(o[16]=c(" ======= ",-1)),e(G,{class:"pixel-font"},{default:a(()=>[e(H,{class:"gba-app-bar",flat:""},{default:a(()=>[e(M,{class:"d-flex align-center gba-title"},{default:a(()=>[...o[8]||(o[8]=[i("img",{src:L,alt:"Pokeball pixel",style:{height:"2.2em","margin-right":"0.5em","vertical-align":"middle"}},null,-1),i("span",{class:"gba-title-text gba-title-pixel"},"Equipo",-1)])]),_:1}),e(y),e(p,{to:"/",variant:"outlined",color:"yellow",class:"pixel-font"},{default:a(()=>[e(D,{left:""},{default:a(()=>[...o[9]||(o[9]=[c("mdi-arrow-left",-1)])]),_:1}),o[10]||(o[10]=c(" Volver",-1))]),_:1})]),_:1}),e(R,null,{default:a(()=>[e(j,null,{default:a(()=>[e(T,{class:"mb-4",variant:"outlined",rounded:"xl"},{default:a(()=>[e(n,{class:"text-subtitle-1 d-flex align-center"},{default:a(()=>[o[12]||(o[12]=i("img",{src:L,alt:"Pokeball pixel",style:{height:"1.5em","margin-right":"0.5em","vertical-align":"middle"}},null,-1)),c(" Equipo ("+f(t.store.teamCount)+"/6) ",1),e(y),e(p,{size:"x-small",disabled:t.store.teamCount===0,onClick:t.clearTeam,variant:"text"},{default:a(()=>[...o[11]||(o[11]=[c("Vaciar",-1)])]),_:1},8,["disabled","onClick"])]),_:1}),e(_),e(S,null,{default:a(()=>[e(w,{class:"align-center"},{default:a(()=>[e(d,{cols:"12",md:"4"},{default:a(()=>[e(x,{modelValue:t.addInput,"onUpdate:modelValue":o[2]||(o[2]=l=>t.addInput=l),label:"Nombre o ID",density:"compact",variant:"outlined",onKeyup:O(t.handleAdd,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{cols:"12",md:"2"},{default:a(()=>[e(p,{color:"primary",disabled:!t.addInput||t.store.teamCount>=6,onClick:t.handleAdd},{default:a(()=>[...o[13]||(o[13]=[c("Agregar",-1)])]),_:1},8,["disabled","onClick"])]),_:1}),e(d,{cols:"12",md:"6"},{default:a(()=>[o[14]||(o[14]=i("div",{class:"text-caption"},"Cobertura de Tipos:",-1)),i("div",te,[(s(!0),g(k,null,C(t.coverage,(l,u)=>(s(),b(z,{key:u,color:t.store.typeColors[u],class:"ma-1",size:"x-small",variant:"elevated",style:{"text-transform":"capitalize"}},{default:a(()=>[c(f(u)+" ("+f(l)+")",1)]),_:2},1032,["color"]))),128)),Object.keys(t.coverage).length===0?(s(),g("span",ae,"Sin tipos todavía")):V("",!0)])]),_:1})]),_:1}),e(_,{class:"my-4"}),e(w,null,{default:a(()=>[(s(!0),g(k,null,C(t.store.teamData,(l,u)=>(s(),b(d,{key:l.id,cols:"12",sm:"6",md:"4",draggable:"true",onDragstart:m=>t.onDragStart(u),onDragover:o[3]||(o[3]=U(()=>{},["prevent"])),onDrop:m=>t.onDrop(u)},{default:a(()=>[e(T,{rounded:"xl",variant:"outlined",class:"team-member-card"},{default:a(()=>[e(n,{class:"d-flex align-center"},{default:a(()=>[e(E,{size:"56",class:"me-2"},{default:a(()=>[i("img",{src:`/images/pokemon-${l.id}.png`,alt:l.name},null,8,oe)]),_:2},1024),i("div",null,[i("div",le,"#"+f(l.id)+" "+f(l.name),1),i("div",null,[(s(!0),g(k,null,C(l.types,m=>(s(),b(z,{key:m,size:"x-small",class:"me-1",color:t.store.typeColors[m],style:{"text-transform":"capitalize"}},null,8,["color"]))),128))])]),e(y),e(p,{icon:"mdi-close",size:"x-small",variant:"text",onClick:m=>t.remove(l.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDragstart","onDrop"]))),128)),t.store.teamCount===0?(s(),b(d,{key:0,cols:"12"},{default:a(()=>[e(B,{type:"info",variant:"tonal",title:"Equipo vacío",text:"Agrega Pokémon para ver la cobertura de tipos."})]),_:1})):V("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o[17]||(o[17]=c(" >>>>>>> b3fc6f7 (init: proyecto limpio para deploy) ",-1))],64)}const de=J(Y,[["render",ne],["__scopeId","data-v-10a822f7"]]);export{de as default};
